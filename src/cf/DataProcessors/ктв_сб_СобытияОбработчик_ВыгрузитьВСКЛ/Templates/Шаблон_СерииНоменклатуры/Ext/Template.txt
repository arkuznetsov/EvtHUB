{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{5,
{
{"S","ИмяТаблицыСУБД"},
{"S","Equipment"}
},
{
{"S","ЗаполнениеПолей"},
{"#",51e7a0d2-530b-11d4-b98a-008048da3034,
{7,
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{8,
{
{"S","КолонкаСУБД"},
{"S","SerialNumber"}
},
{
{"S","КолонкаЗапроса"},
{"S","СерийныйНомер"}
},
{
{"S","Выражение"},
{"S",""}
},
{
{"S","ТаблицаИсточник"},
{"S",""}
},
{
{"S","ПолеКлюча"},
{"S",""}
},
{
{"S","ПолеЗначения"},
{"S",""}
},
{
{"S","ПолеПоиска"},
{"B",1}
},
{
{"S","ПолеСсылки"},
{"B",0}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{8,
{
{"S","КолонкаСУБД"},
{"S","MaterialID"}
},
{
{"S","КолонкаЗапроса"},
{"S","Артикул"}
},
{
{"S","Выражение"},
{"S",""}
},
{
{"S","ТаблицаИсточник"},
{"S","Material"}
},
{
{"S","ПолеКлюча"},
{"S","Number"}
},
{
{"S","ПолеЗначения"},
{"S","MaterialID"}
},
{
{"S","ПолеПоиска"},
{"B",1}
},
{
{"S","ПолеСсылки"},
{"B",0}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{8,
{
{"S","КолонкаСУБД"},
{"S","WarrantyStartDate"}
},
{
{"S","КолонкаЗапроса"},
{"S","НачалоГарантии"}
},
{
{"S","Выражение"},
{"S",""}
},
{
{"S","ТаблицаИсточник"},
{"S",""}
},
{
{"S","ПолеКлюча"},
{"S",""}
},
{
{"S","ПолеЗначения"},
{"S",""}
},
{
{"S","ПолеПоиска"},
{"B",0}
},
{
{"S","ПолеСсылки"},
{"B",0}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{8,
{
{"S","КолонкаСУБД"},
{"S","WarrantyEndDate"}
},
{
{"S","КолонкаЗапроса"},
{"S","ОкончаниеГарантии"}
},
{
{"S","Выражение"},
{"S",""}
},
{
{"S","ТаблицаИсточник"},
{"S",""}
},
{
{"S","ПолеКлюча"},
{"S",""}
},
{
{"S","ПолеЗначения"},
{"S",""}
},
{
{"S","ПолеПоиска"},
{"B",0}
},
{
{"S","ПолеСсылки"},
{"B",0}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{8,
{
{"S","КолонкаСУБД"},
{"S","Sold-toPartyID"}
},
{
{"S","КолонкаЗапроса"},
{"S","ПокупательКод"}
},
{
{"S","Выражение"},
{"S",""}
},
{
{"S","ТаблицаИсточник"},
{"S","Partner"}
},
{
{"S","ПолеКлюча"},
{"S","Number"}
},
{
{"S","ПолеЗначения"},
{"S","PartnerID"}
},
{
{"S","ПолеПоиска"},
{"B",0}
},
{
{"S","ПолеСсылки"},
{"B",0}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{8,
{
{"S","КолонкаСУБД"},
{"S","Ship-toPartyID"}
},
{
{"S","КолонкаЗапроса"},
{"S","ПолучательКод"}
},
{
{"S","Выражение"},
{"S",""}
},
{
{"S","ТаблицаИсточник"},
{"S","Partner"}
},
{
{"S","ПолеКлюча"},
{"S","Number"}
},
{
{"S","ПолеЗначения"},
{"S","PartnerID"}
},
{
{"S","ПолеПоиска"},
{"B",0}
},
{
{"S","ПолеСсылки"},
{"B",0}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{8,
{
{"S","КолонкаСУБД"},
{"S",""}
},
{
{"S","КолонкаЗапроса"},
{"S","Ссылка"}
},
{
{"S","Выражение"},
{"S",""}
},
{
{"S","ТаблицаИсточник"},
{"S",""}
},
{
{"S","ПолеКлюча"},
{"S",""}
},
{
{"S","ПолеЗначения"},
{"S",""}
},
{
{"S","ПолеПоиска"},
{"B",0}
},
{
{"S","ПолеСсылки"},
{"B",1}
}
}
}
}
}
},
{
{"S","Запрос_Текст"},
{"S","ВЫБРАТЬ РАЗЛИЧНЫЕ
	СерииНоменклатуры.Ссылка,
	СерииНоменклатуры.Владелец КАК Номенклатура,
	Номенклатура.Артикул,
	СерииНоменклатуры.Код КАК СерийныйНомер,
	ЕСТЬNULL(МИНИМУМ(СерииНоменклатурыГарантии.ДатаНачала), ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)) КАК НачалоГарантии,
	ЕСТЬNULL(МАКСИМУМ(СерииНоменклатурыГарантии.ДатаОкончания), ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)) КАК ОкончаниеГарантии,
	Покупатели.Ссылка КАК Покупатель,
	ЕСТЬNULL(Покупатели.Код, NULL) КАК ПокупательКод,
	ЕСТЬNULL(Получатели.Ссылка, Покупатели.Ссылка) КАК Получатель,
	ВЫБОР
		КОГДА Получатели.Ссылка ЕСТЬ NULL
			ТОГДА ЕСТЬNULL(Покупатели.Код, NULL)
		ИНАЧЕ Получатели.Код
	КОНЕЦ КАК ПолучательКод
ИЗ
	Справочник.Номенклатура КАК Номенклатура
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.СерийныеНомераНоменклатуры КАК СерииНоменклатуры
		ПО Номенклатура.Ссылка = СерииНоменклатуры.Владелец
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.СерийныеНомераНоменклатуры.Гарантии КАК СерииНоменклатурыГарантии
		ПО (СерииНоменклатуры.Ссылка = СерииНоменклатурыГарантии.Ссылка)
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг
		ПО (СерииНоменклатуры.ДокументРеализации = РеализацияТоваровУслуг.Ссылка)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Контрагенты КАК Покупатели
		ПО (РеализацияТоваровУслуг.Контрагент = Покупатели.Ссылка)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Контрагенты КАК Получатели
		ПО (РеализацияТоваровУслуг.Грузополучатель = Получатели.Ссылка)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.СерийныеНомераНоменклатуры.Изменения КАК СерииНоменклатурыИзменения
		ПО (СерииНоменклатуры.Ссылка = СерииНоменклатурыИзменения.Ссылка)
			И (СерииНоменклатурыИзменения.Узел = &Узел)
ГДЕ
	НЕ Номенклатура.ЭтоГруппа
	И НЕ Номенклатура.ПометкаУдаления
	И НЕ СерииНоменклатуры.ПометкаУдаления
	И СерииНоменклатуры.Ссылка ЕСТЬ НЕ NULL 
	И (СерииНоменклатурыИзменения.Узел ЕСТЬ НЕ NULL 
			ИЛИ &БезПроверкиИзменений)
	И (Номенклатура.Ссылка В (&МассивНоменклатуры)
			ИЛИ &ВсяНоменклатура)
	И (СерииНоменклатуры.Ссылка В (&МассивСерий)
			ИЛИ &ВсеСерии)
	И Номенклатура.Родитель В (&МассивГрупп)

СГРУППИРОВАТЬ ПО
	СерииНоменклатуры.Ссылка,
	СерииНоменклатуры.Владелец,
	Номенклатура.Артикул,
	СерииНоменклатуры.Код,
	Покупатели.Ссылка,
	ЕСТЬNULL(Покупатели.Код, NULL),
	ЕСТЬNULL(Получатели.Ссылка, Покупатели.Ссылка),
	ВЫБОР
		КОГДА Получатели.Ссылка ЕСТЬ NULL
			ТОГДА ЕСТЬNULL(Покупатели.Код, NULL)
		ИНАЧЕ Получатели.Код
	КОНЕЦ"}
},
{
{"S","Запрос_Параметры"},
{"#",51e7a0d2-530b-11d4-b98a-008048da3034,
{8,
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","БезПроверкиИзменений"}
},
{
{"S","Параметр_Значение"},
{"S","БезПроверкиИзменений"}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"B"}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Выражение"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","ВсеСерии"}
},
{
{"S","Параметр_Значение"},
{"S","Отбор_ВсеСерии"}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"B"}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Выражение"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","ВсяНоменклатура"}
},
{
{"S","Параметр_Значение"},
{"S","Отбор_ВсяНоменклатура"}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"B"}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Выражение"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","МассивГрупп"}
},
{
{"S","Параметр_Значение"},
{"S","Фильтр_ГруппыНоменклатуры"}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Выражение"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","МассивНоменклатуры"}
},
{
{"S","Параметр_Значение"},
{"S","Отбор_Номенклатура"}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Выражение"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","МассивСерий"}
},
{
{"S","Параметр_Значение"},
{"S","Отбор_Серии"}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"#",aab93702-7c2b-4351-8de7-b14a8261fa66}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Выражение"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","Узел"}
},
{
{"S","Параметр_Значение"},
{"S","УзелКонтроляИзменений"}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"#",9b6566e4-b0f4-4262-bf31-f0fb701bb531}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Выражение"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{4,
{
{"S","Параметр_Имя"},
{"S","Фильтр_ГруппыНоменклатуры"}
},
{
{"S","Параметр_Значение"},
{"#",4772b3b4-f4a3-49c0-a1a5-8cb5961511a3,
{6,1e512aab-1b41-4ef6-9375-f0137be9dd91,0,0,
{4,
{1e512aab-1b41-4ef6-9375-f0137be9dd91,
{"",0,
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06,65:8f218c89a5156f1a11e0ea6510f26c13},
{4,0,
{0},"",-1,-1,0,0,""},0,0,""}
},
{1e512aab-1b41-4ef6-9375-f0137be9dd91,
{"",0,
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06,65:92e478e3b5fc9c6711e0cfdc01b0ee02},
{4,0,
{0},"",-1,-1,0,0,""},1,0,""}
},
{1e512aab-1b41-4ef6-9375-f0137be9dd91,
{"",0,
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06,65:92e478e3b5fc9c6711e0cfdc01b0ee03},
{4,0,
{0},"",-1,-1,0,0,""},2,0,""}
},
{1e512aab-1b41-4ef6-9375-f0137be9dd91,
{"",0,
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06,65:aaa378e3b5fc9c6711e0a61b65171f89},
{4,0,
{0},"",-1,-1,0,0,""},3,0,""}
}
},
{"Pattern",
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06}
},0,3}
}
},
{
{"S","Параметр_Тип"},
{"#",f5c65050-3bbb-11d5-b988-0050bae0a95d,
{"Pattern",
{"#",190a7469-3325-4d33-b5ec-28a63ac83b06}
}
}
},
{
{"S","Параметр_СпособЗаполнения"},
{"S","Список"}
}
}
}
}
}
},
{
{"S","ПроизвольныеВыражения"},
{"#",51e7a0d2-530b-11d4-b98a-008048da3034,
{7,
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{2,
{
{"S","Имя"},
{"S","Отбор_Номенклатура"}
},
{
{"S","Код"},
{"S","Результат = Новый Массив();
Если ТипЗнч(Параметры.Источник) = Тип(""СправочникСсылка.Номенклатура"") Тогда
	Результат.Добавить(Параметры.Источник);
КонецЕсли;"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{2,
{
{"S","Имя"},
{"S","Отбор_ВсяНоменклатура"}
},
{
{"S","Код"},
{"S","Результат = Истина;
Если ТипЗнч(Параметры.Источник) = Тип(""СправочникСсылка.Номенклатура"") Тогда
	Результат = Ложь;
КонецЕсли;"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{2,
{
{"S","Имя"},
{"S","Отбор_Серии"}
},
{
{"S","Код"},
{"S","Результат = Новый Массив();
Если ТипЗнч(Параметры.Источник) = Тип(""СправочникСсылка.СерийныеНомераНоменклатуры"") Тогда
	Результат.Добавить(Параметры.Источник);
КонецЕсли;"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{2,
{
{"S","Имя"},
{"S","Отбор_ВсеСерии"}
},
{
{"S","Код"},
{"S","Результат = Истина;
Если ТипЗнч(Параметры.Источник) = Тип(""СправочникСсылка.СерийныеНомераНоменклатуры"") Тогда
	Результат = Ложь;
КонецЕсли;"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{2,
{
{"S","Имя"},
{"S","УзелКонтроляИзменений"}
},
{
{"S","Код"},
{"S","Результат = Параметры.УзелКонтроляИзменений;"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{2,
{
{"S","Имя"},
{"S","БезПроверкиИзменений"}
},
{
{"S","Код"},
{"S","Результат = Ложь;

Если НЕ Параметры.Свойство(""УзелКонтроляИзменений"") Тогда
	Результат = Истина;
Иначе
	Если НЕ ЗначениеЗаполнено(Параметры.УзелКонтроляИзменений) Тогда
		Результат = Истина;
	КонецЕсли;
КонецЕсли;"}
}
}
},
{"#",4238019d-7e49-4fc9-91db-b6b951d5cf8e,
{2,
{
{"S","Имя"},
{"S","Фильтр_ГруппыНоменклатуры"}
},
{
{"S","Код"},
{"S","Результат = Новый Массив();

ЗапросГрупп = Новый Запрос(""ВЫБРАТЬ
						   |	Номенклатура.Ссылка
						   |ИЗ
						   |	Справочник.Номенклатура КАК Номенклатура
						   |ГДЕ
						   |	Номенклатура.ЭтоГруппа
						   |	И Номенклатура.Ссылка В ИЕРАРХИИ(&Фильтр_ГруппыНоменклатуры)"");

Для Каждого ТекПараметр Из Запрос_Параметры Цикл
	
	Если ТекПараметр.Параметр_Имя = ""Фильтр_ГруппыНоменклатуры"" Тогда
		ЗапросГрупп.УстановитьПараметр(""Фильтр_ГруппыНоменклатуры"", ТекПараметр.Параметр_Значение);
		Прервать;
	КонецЕсли;

КонецЦикла;

Результат = ЗапросГрупп.Выполнить().Выгрузить().ВыгрузитьКолонку(""Ссылка"");"}
}
}
}
}
}
}
}
}